<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>限定指定次数的点击</title>
</head>
<body>
    <p>click me</p>
    <script src="http://cdn.bootcss.com/rxjs/5.3.1/Rx.min.js"></script>

    <script>
        // var handler = (e) => {
        //     console.log(e);
        //     document.body.removeEventListener('click', handler);
        // };
        // document.body.addEventListener('click', handler);

        Rx.Observable
            .fromEvent(document.body, 'click')
            // .take(2)
            .subscribe(console.log);

        // 点击只触发1次， 触发指定n次？
        // 上面的方案：外部定义共享变量（外部变量会搞乱你的程序状态）、手动移除(忘记会有leak风险)
        // 下面的已经将 事件触发 与 响应间 做好了抽象，可以take/first （限定次数作为参数，体现了纯函数与业务给力的威力）
    </script>
</body>
</html>